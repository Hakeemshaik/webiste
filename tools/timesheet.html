<!DOCTYPE html>
<html>
<head>
  <title>Advanced Timesheet</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<header class="top">
  <h2>⏱️ Timesheet Tracker</h2>
</header>

<div class="cards">
  <div class="card">
    <input type="date" id="date">
    <input type="time" id="start">
    <input type="time" id="end">
    <button onclick="addEntry()">Add Entry</button>

    <ul id="list"></ul>
    <strong id="total"></strong>
    <button onclick="clearAll()">Clear All</button>
  </div>
</div>

<script>
let entries = JSON.parse(localStorage.getItem("timesheet") || "[]");

function addEntry(){
  const s = start.value, e = end.value;
  if(!s || !e) return;

  const h = (new Date(`1970-01-01T${e}`) -
             new Date(`1970-01-01T${s}`)) / 36e5;

  entries.push({ date: date.value, hours: h });
  localStorage.setItem("timesheet", JSON.stringify(entries));
  render();
}

function render(){
  list.innerHTML = "";
  let sum = 0;
  entries.forEach(e => {
    sum += e.hours;
    list.innerHTML += `<li>${e.date}: ${e.hours.toFixed(2)} hrs</li>`;
  });
  total.innerText = `Total Hours: ${sum.toFixed(2)}`;
}

function clearAll(){
  entries = [];
  localStorage.clear();
  render();
}

render();
</script>

</body>
</html>
